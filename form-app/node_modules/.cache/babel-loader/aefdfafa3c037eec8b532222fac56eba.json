{"ast":null,"code":"import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, i as _slicedToArray, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { escapeRegExp, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n/**\r\n  Number mask\r\n  @param {Object} opts\r\n  @param {string} opts.radix - Single char\r\n  @param {string} opts.thousandsSeparator - Single char\r\n  @param {Array<string>} opts.mapToRadix - Array of single chars\r\n  @param {number} opts.min\r\n  @param {number} opts.max\r\n  @param {number} opts.scale - Digits after point\r\n  @param {boolean} opts.signed - Allow negative\r\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\r\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\r\n*/\n\nvar MaskedNumber = /*#__PURE__*/function (_Masked) {\n  _inherits(MaskedNumber, _Masked);\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n\n\n  function MaskedNumber(opts) {\n    _classCallCheck(this, MaskedNumber);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedNumber).call(this, Object.assign({}, MaskedNumber.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedNumber, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"_update\", this).call(this, opts);\n\n      this._updateRegExps();\n    }\n    /** */\n\n  }, {\n    key: \"_updateRegExps\",\n    value: function _updateRegExps() {\n      // use different regexp to process user input (more strict, input suffix) and tail shifting\n      var start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n      var midInput = '(0|([1-9]+\\\\d*))?';\n      var mid = '\\\\d*';\n      var end = (this.scale ? '(' + escapeRegExp(this.radix) + '\\\\d{0,' + this.scale + '})?' : '') + '$';\n      this._numberRegExpInput = new RegExp(start + midInput + end);\n      this._numberRegExp = new RegExp(start + mid + end);\n      this._mapToRadixRegExp = new RegExp('[' + this.mapToRadix.map(escapeRegExp).join('') + ']', 'g');\n      this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n    }\n    /** */\n\n  }, {\n    key: \"_removeThousandsSeparators\",\n    value: function _removeThousandsSeparators(value) {\n      return value.replace(this._thousandsSeparatorRegExp, '');\n    }\n    /** */\n\n  }, {\n    key: \"_insertThousandsSeparators\",\n    value: function _insertThousandsSeparators(value) {\n      // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n      var parts = value.split(this.radix);\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var _get2;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedNumber.prototype), \"doPrepare\", this)).call.apply(_get2, [this, this._removeThousandsSeparators(str.replace(this._mapToRadixRegExp, this.radix))].concat(args));\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCount\",\n    value: function _separatorsCount(to) {\n      var extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var count = 0;\n\n      for (var pos = 0; pos < to; ++pos) {\n        if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n          ++count;\n          if (extendOnSeparators) to += this.thousandsSeparator.length;\n        }\n      }\n\n      return count;\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCountFromSlice\",\n    value: function _separatorsCountFromSlice() {\n      var slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n      return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n\n      var _this$_adjustRangeWit = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit2 = _slicedToArray(_this$_adjustRangeWit, 2);\n\n      fromPos = _this$_adjustRangeWit2[0];\n      toPos = _this$_adjustRangeWit2[1];\n      return this._removeThousandsSeparators(_get(_getPrototypeOf(MaskedNumber.prototype), \"extractInput\", this).call(this, fromPos, toPos, flags));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.thousandsSeparator) return _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n      var prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n\n      this._value = this._removeThousandsSeparators(this.value);\n\n      var appendDetails = _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n\n      this._value = this._insertThousandsSeparators(this._value);\n      var beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n\n      appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n      return appendDetails;\n    }\n    /** */\n\n  }, {\n    key: \"_findSeparatorAround\",\n    value: function _findSeparatorAround(pos) {\n      if (this.thousandsSeparator) {\n        var searchFrom = pos - this.thousandsSeparator.length + 1;\n        var separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n        if (separatorPos <= pos) return separatorPos;\n      }\n\n      return -1;\n    }\n  }, {\n    key: \"_adjustRangeWithSeparators\",\n    value: function _adjustRangeWithSeparators(from, to) {\n      var separatorAroundFromPos = this._findSeparatorAround(from);\n\n      if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n\n      var separatorAroundToPos = this._findSeparatorAround(to);\n\n      if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n      return [from, to];\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var _this$_adjustRangeWit3 = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit4 = _slicedToArray(_this$_adjustRangeWit3, 2);\n\n      fromPos = _this$_adjustRangeWit4[0];\n      toPos = _this$_adjustRangeWit4[1];\n      var valueBeforePos = this.value.slice(0, fromPos);\n      var valueAfterPos = this.value.slice(toPos);\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n\n      this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n\n      return new ChangeDetails({\n        tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos, direction) {\n      if (!this.thousandsSeparator) return cursorPos;\n\n      switch (direction) {\n        case DIRECTION.NONE:\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          {\n            var separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n\n            if (separatorAtLeftPos >= 0) {\n              var separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n\n              if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n                return separatorAtLeftPos;\n              }\n            }\n\n            break;\n          }\n\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n          {\n            var separatorAtRightPos = this._findSeparatorAround(cursorPos);\n\n            if (separatorAtRightPos >= 0) {\n              return separatorAtRightPos + this.thousandsSeparator.length;\n            }\n          }\n      }\n\n      return cursorPos;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      var regexp = flags.input ? this._numberRegExpInput : this._numberRegExp; // validate as string\n\n      var valid = regexp.test(this._removeThousandsSeparators(this.value));\n\n      if (valid) {\n        // validate as number\n        var number = this.number;\n        valid = valid && !isNaN(number) && ( // check min bound for negative values\n        this.min == null || this.min >= 0 || this.min <= this.number) && ( // check max bound for positive values\n        this.max == null || this.max <= 0 || this.number <= this.max);\n      }\n\n      return valid && _get(_getPrototypeOf(MaskedNumber.prototype), \"doValidate\", this).call(this, flags);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.value) {\n        var number = this.number;\n        var validnum = number; // check bounds\n\n        if (this.min != null) validnum = Math.max(validnum, this.min);\n        if (this.max != null) validnum = Math.min(validnum, this.max);\n        if (validnum !== number) this.unmaskedValue = String(validnum);\n        var formatted = this.value;\n        if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n        if (this.padFractionalZeros) formatted = this._padFractionalZeros(formatted);\n        this._value = formatted;\n      }\n\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"doCommit\", this).call(this);\n    }\n    /** */\n\n  }, {\n    key: \"_normalizeZeros\",\n    value: function _normalizeZeros(value) {\n      var parts = this._removeThousandsSeparators(value).split(this.radix); // remove leading zeros\n\n\n      parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, function (match, sign, zeros, num) {\n        return sign + num;\n      }); // add leading zero\n\n      if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n\n      if (parts.length > 1) {\n        parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n\n        if (!parts[1].length) parts.length = 1; // remove fractional\n      }\n\n      return this._insertThousandsSeparators(parts.join(this.radix));\n    }\n    /** */\n\n  }, {\n    key: \"_padFractionalZeros\",\n    value: function _padFractionalZeros(value) {\n      if (!value) return value;\n      var parts = value.split(this.radix);\n      if (parts.length < 2) parts.push('');\n      parts[1] = parts[1].padEnd(this.scale, '0');\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, '.');\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", unmaskedValue.replace('.', this.radix), this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return Number(this.unmaskedValue);\n    },\n    set: function set(n) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", String(n), this, true);\n    }\n    /** Parsed Number */\n\n  }, {\n    key: \"number\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(number) {\n      this.typedValue = number;\n    }\n    /**\r\n      Is negative allowed\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"allowNegative\",\n    get: function get() {\n      return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n    }\n  }]);\n\n  return MaskedNumber;\n}(Masked);\n\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: ['.'],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false\n};\nIMask.MaskedNumber = MaskedNumber;\nexport default MaskedNumber;","map":{"version":3,"sources":["/home/rafaelle.xavier/Documentos/visitenos-form-insa/node_modules/imask/esm/masked/number.js"],"names":["d","_inherits","a","_createClass","b","_classCallCheck","e","_possibleConstructorReturn","f","_getPrototypeOf","g","_get","i","_slicedToArray","h","_set","escapeRegExp","DIRECTION","ChangeDetails","IMask","Masked","MaskedNumber","_Masked","opts","call","Object","assign","DEFAULTS","key","value","_update","prototype","_updateRegExps","start","allowNegative","midInput","mid","end","scale","radix","_numberRegExpInput","RegExp","_numberRegExp","_mapToRadixRegExp","mapToRadix","map","join","_thousandsSeparatorRegExp","thousandsSeparator","_removeThousandsSeparators","replace","_insertThousandsSeparators","parts","split","doPrepare","str","_get2","_len","arguments","length","args","Array","_key","apply","concat","_separatorsCount","to","extendOnSeparators","undefined","count","pos","_value","indexOf","_separatorsCountFromSlice","slice","extractInput","fromPos","toPos","flags","_this$_adjustRangeWit","_adjustRangeWithSeparators","_this$_adjustRangeWit2","_appendCharRaw","ch","prevBeforeTailValue","tail","_beforeTailState","prevBeforeTailSeparatorsCount","appendDetails","beforeTailValue","beforeTailSeparatorsCount","tailShift","_findSeparatorAround","searchFrom","separatorPos","from","separatorAroundFromPos","separatorAroundToPos","remove","_this$_adjustRangeWit3","_this$_adjustRangeWit4","valueBeforePos","valueAfterPos","nearestInputPos","cursorPos","direction","NONE","LEFT","FORCE_LEFT","separatorAtLeftPos","separatorAtLeftEndPos","RIGHT","FORCE_RIGHT","separatorAtRightPos","doValidate","regexp","input","valid","test","number","isNaN","min","max","doCommit","validnum","Math","unmaskedValue","String","formatted","normalizeZeros","_normalizeZeros","padFractionalZeros","_padFractionalZeros","match","sign","zeros","num","push","padEnd","get","set","Number","n","typedValue","signed"],"mappings":"AAAA,SAASA,CAAC,IAAIC,SAAd,EAAyBC,CAAC,IAAIC,YAA9B,EAA4CC,CAAC,IAAIC,eAAjD,EAAkEC,CAAC,IAAIC,0BAAvE,EAAmGC,CAAC,IAAIC,eAAxG,EAAyHC,CAAC,IAAIC,IAA9H,EAAoIC,CAAC,IAAIC,cAAzI,EAAyJC,CAAC,IAAIC,IAA9J,QAA0K,0CAA1K;AACA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,kBAAxC;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAO,oCAAP;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA;;;;;;;;;;;;;;AAaA,IAAIC,YAAY,GAChB,aACA,UAAUC,OAAV,EAAmB;AACjBrB,EAAAA,SAAS,CAACoB,YAAD,EAAeC,OAAf,CAAT;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AACA,WAASD,YAAT,CAAsBE,IAAtB,EAA4B;AAC1BlB,IAAAA,eAAe,CAAC,IAAD,EAAOgB,YAAP,CAAf;;AAEA,WAAOd,0BAA0B,CAAC,IAAD,EAAOE,eAAe,CAACY,YAAD,CAAf,CAA8BG,IAA9B,CAAmC,IAAnC,EAAyCC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,YAAY,CAACM,QAA/B,EAAyC,EAAzC,EAA6CJ,IAA7C,CAAzC,CAAP,CAAjC;AACD;AACD;;;;;AAKApB,EAAAA,YAAY,CAACkB,YAAD,EAAe,CAAC;AAC1BO,IAAAA,GAAG,EAAE,SADqB;AAE1BC,IAAAA,KAAK,EAAE,SAASC,OAAT,CAAiBP,IAAjB,EAAuB;AAC5BZ,MAAAA,IAAI,CAACF,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,SAA1C,EAAqD,IAArD,CAAJ,CAA+DP,IAA/D,CAAoE,IAApE,EAA0ED,IAA1E;;AAEA,WAAKS,cAAL;AACD;AACD;;AAP0B,GAAD,EASxB;AACDJ,IAAAA,GAAG,EAAE,gBADJ;AAEDC,IAAAA,KAAK,EAAE,SAASG,cAAT,GAA0B;AAC/B;AACA,UAAIC,KAAK,GAAG,OAAO,KAAKC,aAAL,GAAqB,UAArB,GAAkC,EAAzC,CAAZ;AACA,UAAIC,QAAQ,GAAG,mBAAf;AACA,UAAIC,GAAG,GAAG,MAAV;AACA,UAAIC,GAAG,GAAG,CAAC,KAAKC,KAAL,GAAa,MAAMtB,YAAY,CAAC,KAAKuB,KAAN,CAAlB,GAAiC,QAAjC,GAA4C,KAAKD,KAAjD,GAAyD,KAAtE,GAA8E,EAA/E,IAAqF,GAA/F;AACA,WAAKE,kBAAL,GAA0B,IAAIC,MAAJ,CAAWR,KAAK,GAAGE,QAAR,GAAmBE,GAA9B,CAA1B;AACA,WAAKK,aAAL,GAAqB,IAAID,MAAJ,CAAWR,KAAK,GAAGG,GAAR,GAAcC,GAAzB,CAArB;AACA,WAAKM,iBAAL,GAAyB,IAAIF,MAAJ,CAAW,MAAM,KAAKG,UAAL,CAAgBC,GAAhB,CAAoB7B,YAApB,EAAkC8B,IAAlC,CAAuC,EAAvC,CAAN,GAAmD,GAA9D,EAAmE,GAAnE,CAAzB;AACA,WAAKC,yBAAL,GAAiC,IAAIN,MAAJ,CAAWzB,YAAY,CAAC,KAAKgC,kBAAN,CAAvB,EAAkD,GAAlD,CAAjC;AACD;AACD;;AAbC,GATwB,EAwBxB;AACDpB,IAAAA,GAAG,EAAE,4BADJ;AAEDC,IAAAA,KAAK,EAAE,SAASoB,0BAAT,CAAoCpB,KAApC,EAA2C;AAChD,aAAOA,KAAK,CAACqB,OAAN,CAAc,KAAKH,yBAAnB,EAA8C,EAA9C,CAAP;AACD;AACD;;AALC,GAxBwB,EA+BxB;AACDnB,IAAAA,GAAG,EAAE,4BADJ;AAEDC,IAAAA,KAAK,EAAE,SAASsB,0BAAT,CAAoCtB,KAApC,EAA2C;AAChD;AACA,UAAIuB,KAAK,GAAGvB,KAAK,CAACwB,KAAN,CAAY,KAAKd,KAAjB,CAAZ;AACAa,MAAAA,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASF,OAAT,CAAiB,uBAAjB,EAA0C,KAAKF,kBAA/C,CAAX;AACA,aAAOI,KAAK,CAACN,IAAN,CAAW,KAAKP,KAAhB,CAAP;AACD;AACD;;;;AARC,GA/BwB,EA2CxB;AACDX,IAAAA,GAAG,EAAE,WADJ;AAEDC,IAAAA,KAAK,EAAE,SAASyB,SAAT,CAAmBC,GAAnB,EAAwB;AAC7B,UAAIC,KAAJ;;AAEA,WAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAApC,EAAwEK,IAAI,GAAG,CAApF,EAAuFA,IAAI,GAAGL,IAA9F,EAAoGK,IAAI,EAAxG,EAA4G;AAC1GF,QAAAA,IAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBJ,SAAS,CAACI,IAAD,CAA1B;AACD;;AAED,aAAO,CAACN,KAAK,GAAG7C,IAAI,CAACF,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,WAA1C,EAAuD,IAAvD,CAAb,EAA2EP,IAA3E,CAAgFuC,KAAhF,CAAsFP,KAAtF,EAA6F,CAAC,IAAD,EAAO,KAAKP,0BAAL,CAAgCM,GAAG,CAACL,OAAJ,CAAY,KAAKP,iBAAjB,EAAoC,KAAKJ,KAAzC,CAAhC,CAAP,EAAyFyB,MAAzF,CAAgGJ,IAAhG,CAA7F,CAAP;AACD;AACD;;AAXC,GA3CwB,EAwDxB;AACDhC,IAAAA,GAAG,EAAE,kBADJ;AAEDC,IAAAA,KAAK,EAAE,SAASoC,gBAAT,CAA0BC,EAA1B,EAA8B;AACnC,UAAIC,kBAAkB,GAAGT,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBU,SAAzC,GAAqDV,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAA7F;AACA,UAAIW,KAAK,GAAG,CAAZ;;AAEA,WAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGJ,EAAxB,EAA4B,EAAEI,GAA9B,EAAmC;AACjC,YAAI,KAAKC,MAAL,CAAYC,OAAZ,CAAoB,KAAKxB,kBAAzB,EAA6CsB,GAA7C,MAAsDA,GAA1D,EAA+D;AAC7D,YAAED,KAAF;AACA,cAAIF,kBAAJ,EAAwBD,EAAE,IAAI,KAAKlB,kBAAL,CAAwBW,MAA9B;AACzB;AACF;;AAED,aAAOU,KAAP;AACD;AACD;;AAfC,GAxDwB,EAyExB;AACDzC,IAAAA,GAAG,EAAE,2BADJ;AAEDC,IAAAA,KAAK,EAAE,SAAS4C,yBAAT,GAAqC;AAC1C,UAAIC,KAAK,GAAGhB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBU,SAAzC,GAAqDV,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAKa,MAArF;AACA,aAAO,KAAKN,gBAAL,CAAsB,KAAKhB,0BAAL,CAAgCyB,KAAhC,EAAuCf,MAA7D,EAAqE,IAArE,CAAP;AACD;AACD;;;;AANC,GAzEwB,EAmFxB;AACD/B,IAAAA,GAAG,EAAE,cADJ;AAEDC,IAAAA,KAAK,EAAE,SAAS8C,YAAT,GAAwB;AAC7B,UAAIC,OAAO,GAAGlB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBU,SAAzC,GAAqDV,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAlF;AACA,UAAImB,KAAK,GAAGnB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBU,SAAzC,GAAqDV,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAK7B,KAAL,CAAW8B,MAA3F;AACA,UAAImB,KAAK,GAAGpB,SAAS,CAACC,MAAV,GAAmB,CAAnB,GAAuBD,SAAS,CAAC,CAAD,CAAhC,GAAsCU,SAAlD;;AAEA,UAAIW,qBAAqB,GAAG,KAAKC,0BAAL,CAAgCJ,OAAhC,EAAyCC,KAAzC,CAA5B;;AAEA,UAAII,sBAAsB,GAAGpE,cAAc,CAACkE,qBAAD,EAAwB,CAAxB,CAA3C;;AAEAH,MAAAA,OAAO,GAAGK,sBAAsB,CAAC,CAAD,CAAhC;AACAJ,MAAAA,KAAK,GAAGI,sBAAsB,CAAC,CAAD,CAA9B;AACA,aAAO,KAAKhC,0BAAL,CAAgCtC,IAAI,CAACF,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,cAA1C,EAA0D,IAA1D,CAAJ,CAAoEP,IAApE,CAAyE,IAAzE,EAA+EoD,OAA/E,EAAwFC,KAAxF,EAA+FC,KAA/F,CAAhC,CAAP;AACD;AACD;;;;AAfC,GAnFwB,EAsGxB;AACDlD,IAAAA,GAAG,EAAE,gBADJ;AAEDC,IAAAA,KAAK,EAAE,SAASqD,cAAT,CAAwBC,EAAxB,EAA4B;AACjC,UAAIL,KAAK,GAAGpB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBU,SAAzC,GAAqDV,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAhF;AACA,UAAI,CAAC,KAAKV,kBAAV,EAA8B,OAAOrC,IAAI,CAACF,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,gBAA1C,EAA4D,IAA5D,CAAJ,CAAsEP,IAAtE,CAA2E,IAA3E,EAAiF2D,EAAjF,EAAqFL,KAArF,CAAP;AAC9B,UAAIM,mBAAmB,GAAGN,KAAK,CAACO,IAAN,IAAcP,KAAK,CAACQ,gBAApB,GAAuCR,KAAK,CAACQ,gBAAN,CAAuBf,MAA9D,GAAuE,KAAKA,MAAtG;;AAEA,UAAIgB,6BAA6B,GAAG,KAAKd,yBAAL,CAA+BW,mBAA/B,CAApC;;AAEA,WAAKb,MAAL,GAAc,KAAKtB,0BAAL,CAAgC,KAAKpB,KAArC,CAAd;;AAEA,UAAI2D,aAAa,GAAG7E,IAAI,CAACF,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,gBAA1C,EAA4D,IAA5D,CAAJ,CAAsEP,IAAtE,CAA2E,IAA3E,EAAiF2D,EAAjF,EAAqFL,KAArF,CAApB;;AAEA,WAAKP,MAAL,GAAc,KAAKpB,0BAAL,CAAgC,KAAKoB,MAArC,CAAd;AACA,UAAIkB,eAAe,GAAGX,KAAK,CAACO,IAAN,IAAcP,KAAK,CAACQ,gBAApB,GAAuCR,KAAK,CAACQ,gBAAN,CAAuBf,MAA9D,GAAuE,KAAKA,MAAlG;;AAEA,UAAImB,yBAAyB,GAAG,KAAKjB,yBAAL,CAA+BgB,eAA/B,CAAhC;;AAEAD,MAAAA,aAAa,CAACG,SAAd,IAA2B,CAACD,yBAAyB,GAAGH,6BAA7B,IAA8D,KAAKvC,kBAAL,CAAwBW,MAAjH;AACA,aAAO6B,aAAP;AACD;AACD;;AArBC,GAtGwB,EA6HxB;AACD5D,IAAAA,GAAG,EAAE,sBADJ;AAEDC,IAAAA,KAAK,EAAE,SAAS+D,oBAAT,CAA8BtB,GAA9B,EAAmC;AACxC,UAAI,KAAKtB,kBAAT,EAA6B;AAC3B,YAAI6C,UAAU,GAAGvB,GAAG,GAAG,KAAKtB,kBAAL,CAAwBW,MAA9B,GAAuC,CAAxD;AACA,YAAImC,YAAY,GAAG,KAAKjE,KAAL,CAAW2C,OAAX,CAAmB,KAAKxB,kBAAxB,EAA4C6C,UAA5C,CAAnB;AACA,YAAIC,YAAY,IAAIxB,GAApB,EAAyB,OAAOwB,YAAP;AAC1B;;AAED,aAAO,CAAC,CAAR;AACD;AAVA,GA7HwB,EAwIxB;AACDlE,IAAAA,GAAG,EAAE,4BADJ;AAEDC,IAAAA,KAAK,EAAE,SAASmD,0BAAT,CAAoCe,IAApC,EAA0C7B,EAA1C,EAA8C;AACnD,UAAI8B,sBAAsB,GAAG,KAAKJ,oBAAL,CAA0BG,IAA1B,CAA7B;;AAEA,UAAIC,sBAAsB,IAAI,CAA9B,EAAiCD,IAAI,GAAGC,sBAAP;;AAEjC,UAAIC,oBAAoB,GAAG,KAAKL,oBAAL,CAA0B1B,EAA1B,CAA3B;;AAEA,UAAI+B,oBAAoB,IAAI,CAA5B,EAA+B/B,EAAE,GAAG+B,oBAAoB,GAAG,KAAKjD,kBAAL,CAAwBW,MAApD;AAC/B,aAAO,CAACoC,IAAD,EAAO7B,EAAP,CAAP;AACD;AACD;;;;AAZC,GAxIwB,EAwJxB;AACDtC,IAAAA,GAAG,EAAE,QADJ;AAEDC,IAAAA,KAAK,EAAE,SAASqE,MAAT,GAAkB;AACvB,UAAItB,OAAO,GAAGlB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBU,SAAzC,GAAqDV,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAlF;AACA,UAAImB,KAAK,GAAGnB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBU,SAAzC,GAAqDV,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAK7B,KAAL,CAAW8B,MAA3F;;AAEA,UAAIwC,sBAAsB,GAAG,KAAKnB,0BAAL,CAAgCJ,OAAhC,EAAyCC,KAAzC,CAA7B;;AAEA,UAAIuB,sBAAsB,GAAGvF,cAAc,CAACsF,sBAAD,EAAyB,CAAzB,CAA3C;;AAEAvB,MAAAA,OAAO,GAAGwB,sBAAsB,CAAC,CAAD,CAAhC;AACAvB,MAAAA,KAAK,GAAGuB,sBAAsB,CAAC,CAAD,CAA9B;AACA,UAAIC,cAAc,GAAG,KAAKxE,KAAL,CAAW6C,KAAX,CAAiB,CAAjB,EAAoBE,OAApB,CAArB;AACA,UAAI0B,aAAa,GAAG,KAAKzE,KAAL,CAAW6C,KAAX,CAAiBG,KAAjB,CAApB;;AAEA,UAAIU,6BAA6B,GAAG,KAAKtB,gBAAL,CAAsBoC,cAAc,CAAC1C,MAArC,CAApC;;AAEA,WAAKY,MAAL,GAAc,KAAKpB,0BAAL,CAAgC,KAAKF,0BAAL,CAAgCoD,cAAc,GAAGC,aAAjD,CAAhC,CAAd;;AAEA,UAAIZ,yBAAyB,GAAG,KAAKjB,yBAAL,CAA+B4B,cAA/B,CAAhC;;AAEA,aAAO,IAAInF,aAAJ,CAAkB;AACvByE,QAAAA,SAAS,EAAE,CAACD,yBAAyB,GAAGH,6BAA7B,IAA8D,KAAKvC,kBAAL,CAAwBW;AAD1E,OAAlB,CAAP;AAGD;AACD;;;;AAzBC,GAxJwB,EAqLxB;AACD/B,IAAAA,GAAG,EAAE,iBADJ;AAEDC,IAAAA,KAAK,EAAE,SAAS0E,eAAT,CAAyBC,SAAzB,EAAoCC,SAApC,EAA+C;AACpD,UAAI,CAAC,KAAKzD,kBAAV,EAA8B,OAAOwD,SAAP;;AAE9B,cAAQC,SAAR;AACE,aAAKxF,SAAS,CAACyF,IAAf;AACA,aAAKzF,SAAS,CAAC0F,IAAf;AACA,aAAK1F,SAAS,CAAC2F,UAAf;AACE;AACE,gBAAIC,kBAAkB,GAAG,KAAKjB,oBAAL,CAA0BY,SAAS,GAAG,CAAtC,CAAzB;;AAEA,gBAAIK,kBAAkB,IAAI,CAA1B,EAA6B;AAC3B,kBAAIC,qBAAqB,GAAGD,kBAAkB,GAAG,KAAK7D,kBAAL,CAAwBW,MAAzE;;AAEA,kBAAI6C,SAAS,GAAGM,qBAAZ,IAAqC,KAAKjF,KAAL,CAAW8B,MAAX,IAAqBmD,qBAA1D,IAAmFL,SAAS,KAAKxF,SAAS,CAAC2F,UAA/G,EAA2H;AACzH,uBAAOC,kBAAP;AACD;AACF;;AAED;AACD;;AAEH,aAAK5F,SAAS,CAAC8F,KAAf;AACA,aAAK9F,SAAS,CAAC+F,WAAf;AACE;AACE,gBAAIC,mBAAmB,GAAG,KAAKrB,oBAAL,CAA0BY,SAA1B,CAA1B;;AAEA,gBAAIS,mBAAmB,IAAI,CAA3B,EAA8B;AAC5B,qBAAOA,mBAAmB,GAAG,KAAKjE,kBAAL,CAAwBW,MAArD;AACD;AACF;AA1BL;;AA6BA,aAAO6C,SAAP;AACD;AACD;;;;AApCC,GArLwB,EA6NxB;AACD5E,IAAAA,GAAG,EAAE,YADJ;AAEDC,IAAAA,KAAK,EAAE,SAASqF,UAAT,CAAoBpC,KAApB,EAA2B;AAChC,UAAIqC,MAAM,GAAGrC,KAAK,CAACsC,KAAN,GAAc,KAAK5E,kBAAnB,GAAwC,KAAKE,aAA1D,CADgC,CACyC;;AAEzE,UAAI2E,KAAK,GAAGF,MAAM,CAACG,IAAP,CAAY,KAAKrE,0BAAL,CAAgC,KAAKpB,KAArC,CAAZ,CAAZ;;AAEA,UAAIwF,KAAJ,EAAW;AACT;AACA,YAAIE,MAAM,GAAG,KAAKA,MAAlB;AACAF,QAAAA,KAAK,GAAGA,KAAK,IAAI,CAACG,KAAK,CAACD,MAAD,CAAf,MAA6B;AACrC,aAAKE,GAAL,IAAY,IAAZ,IAAoB,KAAKA,GAAL,IAAY,CAAhC,IAAqC,KAAKA,GAAL,IAAY,KAAKF,MAD9C,OAC2D;AACnE,aAAKG,GAAL,IAAY,IAAZ,IAAoB,KAAKA,GAAL,IAAY,CAAhC,IAAqC,KAAKH,MAAL,IAAe,KAAKG,GAFjD,CAAR;AAGD;;AAED,aAAOL,KAAK,IAAI1G,IAAI,CAACF,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,YAA1C,EAAwD,IAAxD,CAAJ,CAAkEP,IAAlE,CAAuE,IAAvE,EAA6EsD,KAA7E,CAAhB;AACD;AACD;;;;AAjBC,GA7NwB,EAkPxB;AACDlD,IAAAA,GAAG,EAAE,UADJ;AAEDC,IAAAA,KAAK,EAAE,SAAS8F,QAAT,GAAoB;AACzB,UAAI,KAAK9F,KAAT,EAAgB;AACd,YAAI0F,MAAM,GAAG,KAAKA,MAAlB;AACA,YAAIK,QAAQ,GAAGL,MAAf,CAFc,CAES;;AAEvB,YAAI,KAAKE,GAAL,IAAY,IAAhB,EAAsBG,QAAQ,GAAGC,IAAI,CAACH,GAAL,CAASE,QAAT,EAAmB,KAAKH,GAAxB,CAAX;AACtB,YAAI,KAAKC,GAAL,IAAY,IAAhB,EAAsBE,QAAQ,GAAGC,IAAI,CAACJ,GAAL,CAASG,QAAT,EAAmB,KAAKF,GAAxB,CAAX;AACtB,YAAIE,QAAQ,KAAKL,MAAjB,EAAyB,KAAKO,aAAL,GAAqBC,MAAM,CAACH,QAAD,CAA3B;AACzB,YAAII,SAAS,GAAG,KAAKnG,KAArB;AACA,YAAI,KAAKoG,cAAT,EAAyBD,SAAS,GAAG,KAAKE,eAAL,CAAqBF,SAArB,CAAZ;AACzB,YAAI,KAAKG,kBAAT,EAA6BH,SAAS,GAAG,KAAKI,mBAAL,CAAyBJ,SAAzB,CAAZ;AAC7B,aAAKzD,MAAL,GAAcyD,SAAd;AACD;;AAEDrH,MAAAA,IAAI,CAACF,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,UAA1C,EAAsD,IAAtD,CAAJ,CAAgEP,IAAhE,CAAqE,IAArE;AACD;AACD;;AAlBC,GAlPwB,EAsQxB;AACDI,IAAAA,GAAG,EAAE,iBADJ;AAEDC,IAAAA,KAAK,EAAE,SAASqG,eAAT,CAAyBrG,KAAzB,EAAgC;AACrC,UAAIuB,KAAK,GAAG,KAAKH,0BAAL,CAAgCpB,KAAhC,EAAuCwB,KAAvC,CAA6C,KAAKd,KAAlD,CAAZ,CADqC,CACiC;;;AAGtEa,MAAAA,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASF,OAAT,CAAiB,iBAAjB,EAAoC,UAAUmF,KAAV,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,GAA9B,EAAmC;AAChF,eAAOF,IAAI,GAAGE,GAAd;AACD,OAFU,CAAX,CAJqC,CAMjC;;AAEJ,UAAI3G,KAAK,CAAC8B,MAAN,IAAgB,CAAC,MAAM2D,IAAN,CAAWlE,KAAK,CAAC,CAAD,CAAhB,CAArB,EAA2CA,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,GAAW,GAAtB;;AAE3C,UAAIA,KAAK,CAACO,MAAN,GAAe,CAAnB,EAAsB;AACpBP,QAAAA,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASF,OAAT,CAAiB,KAAjB,EAAwB,EAAxB,CAAX,CADoB,CACoB;;AAExC,YAAI,CAACE,KAAK,CAAC,CAAD,CAAL,CAASO,MAAd,EAAsBP,KAAK,CAACO,MAAN,GAAe,CAAf,CAHF,CAGoB;AACzC;;AAED,aAAO,KAAKR,0BAAL,CAAgCC,KAAK,CAACN,IAAN,CAAW,KAAKP,KAAhB,CAAhC,CAAP;AACD;AACD;;AApBC,GAtQwB,EA4RxB;AACDX,IAAAA,GAAG,EAAE,qBADJ;AAEDC,IAAAA,KAAK,EAAE,SAASuG,mBAAT,CAA6BvG,KAA7B,EAAoC;AACzC,UAAI,CAACA,KAAL,EAAY,OAAOA,KAAP;AACZ,UAAIuB,KAAK,GAAGvB,KAAK,CAACwB,KAAN,CAAY,KAAKd,KAAjB,CAAZ;AACA,UAAIa,KAAK,CAACO,MAAN,GAAe,CAAnB,EAAsBP,KAAK,CAACqF,IAAN,CAAW,EAAX;AACtBrF,MAAAA,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASsF,MAAT,CAAgB,KAAKpG,KAArB,EAA4B,GAA5B,CAAX;AACA,aAAOc,KAAK,CAACN,IAAN,CAAW,KAAKP,KAAhB,CAAP;AACD;AACD;;;;AATC,GA5RwB,EAySxB;AACDX,IAAAA,GAAG,EAAE,eADJ;AAED+G,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAO,KAAK1F,0BAAL,CAAgC,KAAKiF,eAAL,CAAqB,KAAKrG,KAA1B,CAAhC,EAAkEqB,OAAlE,CAA0E,KAAKX,KAA/E,EAAsF,GAAtF,CAAP;AACD,KAJA;AAKDqG,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAad,aAAb,EAA4B;AAC/B/G,MAAAA,IAAI,CAACN,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,eAA1C,EAA2D+F,aAAa,CAAC5E,OAAd,CAAsB,GAAtB,EAA2B,KAAKX,KAAhC,CAA3D,EAAmG,IAAnG,EAAyG,IAAzG,CAAJ;AACD;AACD;;;;AARC,GAzSwB,EAqTxB;AACDX,IAAAA,GAAG,EAAE,YADJ;AAED+G,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOE,MAAM,CAAC,KAAKf,aAAN,CAAb;AACD,KAJA;AAKDc,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAaE,CAAb,EAAgB;AACnB/H,MAAAA,IAAI,CAACN,eAAe,CAACY,YAAY,CAACU,SAAd,CAAhB,EAA0C,eAA1C,EAA2DgG,MAAM,CAACe,CAAD,CAAjE,EAAsE,IAAtE,EAA4E,IAA5E,CAAJ;AACD;AACD;;AARC,GArTwB,EA+TxB;AACDlH,IAAAA,GAAG,EAAE,QADJ;AAED+G,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAO,KAAKI,UAAZ;AACD,KAJA;AAKDH,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAarB,MAAb,EAAqB;AACxB,WAAKwB,UAAL,GAAkBxB,MAAlB;AACD;AACD;;;;;AARC,GA/TwB,EA4UxB;AACD3F,IAAAA,GAAG,EAAE,eADJ;AAED+G,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAO,KAAKK,MAAL,IAAe,KAAKvB,GAAL,IAAY,IAAZ,IAAoB,KAAKA,GAAL,GAAW,CAA9C,IAAmD,KAAKC,GAAL,IAAY,IAAZ,IAAoB,KAAKA,GAAL,GAAW,CAAzF;AACD;AAJA,GA5UwB,CAAf,CAAZ;;AAmVA,SAAOrG,YAAP;AACD,CAlXD,CAkXED,MAlXF,CAFA;;AAqXAC,YAAY,CAACM,QAAb,GAAwB;AACtBY,EAAAA,KAAK,EAAE,GADe;AAEtBS,EAAAA,kBAAkB,EAAE,EAFE;AAGtBJ,EAAAA,UAAU,EAAE,CAAC,GAAD,CAHU;AAItBN,EAAAA,KAAK,EAAE,CAJe;AAKtB0G,EAAAA,MAAM,EAAE,KALc;AAMtBf,EAAAA,cAAc,EAAE,IANM;AAOtBE,EAAAA,kBAAkB,EAAE;AAPE,CAAxB;AASAhH,KAAK,CAACE,YAAN,GAAqBA,YAArB;AAEA,eAAeA,YAAf","sourcesContent":["import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, i as _slicedToArray, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { escapeRegExp, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n\n/**\r\n  Number mask\r\n  @param {Object} opts\r\n  @param {string} opts.radix - Single char\r\n  @param {string} opts.thousandsSeparator - Single char\r\n  @param {Array<string>} opts.mapToRadix - Array of single chars\r\n  @param {number} opts.min\r\n  @param {number} opts.max\r\n  @param {number} opts.scale - Digits after point\r\n  @param {boolean} opts.signed - Allow negative\r\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\r\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\r\n*/\nvar MaskedNumber =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedNumber, _Masked);\n\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n  function MaskedNumber(opts) {\n    _classCallCheck(this, MaskedNumber);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedNumber).call(this, Object.assign({}, MaskedNumber.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedNumber, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"_update\", this).call(this, opts);\n\n      this._updateRegExps();\n    }\n    /** */\n\n  }, {\n    key: \"_updateRegExps\",\n    value: function _updateRegExps() {\n      // use different regexp to process user input (more strict, input suffix) and tail shifting\n      var start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n      var midInput = '(0|([1-9]+\\\\d*))?';\n      var mid = '\\\\d*';\n      var end = (this.scale ? '(' + escapeRegExp(this.radix) + '\\\\d{0,' + this.scale + '})?' : '') + '$';\n      this._numberRegExpInput = new RegExp(start + midInput + end);\n      this._numberRegExp = new RegExp(start + mid + end);\n      this._mapToRadixRegExp = new RegExp('[' + this.mapToRadix.map(escapeRegExp).join('') + ']', 'g');\n      this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n    }\n    /** */\n\n  }, {\n    key: \"_removeThousandsSeparators\",\n    value: function _removeThousandsSeparators(value) {\n      return value.replace(this._thousandsSeparatorRegExp, '');\n    }\n    /** */\n\n  }, {\n    key: \"_insertThousandsSeparators\",\n    value: function _insertThousandsSeparators(value) {\n      // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n      var parts = value.split(this.radix);\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var _get2;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedNumber.prototype), \"doPrepare\", this)).call.apply(_get2, [this, this._removeThousandsSeparators(str.replace(this._mapToRadixRegExp, this.radix))].concat(args));\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCount\",\n    value: function _separatorsCount(to) {\n      var extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var count = 0;\n\n      for (var pos = 0; pos < to; ++pos) {\n        if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n          ++count;\n          if (extendOnSeparators) to += this.thousandsSeparator.length;\n        }\n      }\n\n      return count;\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCountFromSlice\",\n    value: function _separatorsCountFromSlice() {\n      var slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n      return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n\n      var _this$_adjustRangeWit = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit2 = _slicedToArray(_this$_adjustRangeWit, 2);\n\n      fromPos = _this$_adjustRangeWit2[0];\n      toPos = _this$_adjustRangeWit2[1];\n      return this._removeThousandsSeparators(_get(_getPrototypeOf(MaskedNumber.prototype), \"extractInput\", this).call(this, fromPos, toPos, flags));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.thousandsSeparator) return _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n      var prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n\n      this._value = this._removeThousandsSeparators(this.value);\n\n      var appendDetails = _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n\n      this._value = this._insertThousandsSeparators(this._value);\n      var beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n\n      appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n      return appendDetails;\n    }\n    /** */\n\n  }, {\n    key: \"_findSeparatorAround\",\n    value: function _findSeparatorAround(pos) {\n      if (this.thousandsSeparator) {\n        var searchFrom = pos - this.thousandsSeparator.length + 1;\n        var separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n        if (separatorPos <= pos) return separatorPos;\n      }\n\n      return -1;\n    }\n  }, {\n    key: \"_adjustRangeWithSeparators\",\n    value: function _adjustRangeWithSeparators(from, to) {\n      var separatorAroundFromPos = this._findSeparatorAround(from);\n\n      if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n\n      var separatorAroundToPos = this._findSeparatorAround(to);\n\n      if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n      return [from, to];\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var _this$_adjustRangeWit3 = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit4 = _slicedToArray(_this$_adjustRangeWit3, 2);\n\n      fromPos = _this$_adjustRangeWit4[0];\n      toPos = _this$_adjustRangeWit4[1];\n      var valueBeforePos = this.value.slice(0, fromPos);\n      var valueAfterPos = this.value.slice(toPos);\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n\n      this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n\n      return new ChangeDetails({\n        tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos, direction) {\n      if (!this.thousandsSeparator) return cursorPos;\n\n      switch (direction) {\n        case DIRECTION.NONE:\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          {\n            var separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n\n            if (separatorAtLeftPos >= 0) {\n              var separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n\n              if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n                return separatorAtLeftPos;\n              }\n            }\n\n            break;\n          }\n\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n          {\n            var separatorAtRightPos = this._findSeparatorAround(cursorPos);\n\n            if (separatorAtRightPos >= 0) {\n              return separatorAtRightPos + this.thousandsSeparator.length;\n            }\n          }\n      }\n\n      return cursorPos;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      var regexp = flags.input ? this._numberRegExpInput : this._numberRegExp; // validate as string\n\n      var valid = regexp.test(this._removeThousandsSeparators(this.value));\n\n      if (valid) {\n        // validate as number\n        var number = this.number;\n        valid = valid && !isNaN(number) && ( // check min bound for negative values\n        this.min == null || this.min >= 0 || this.min <= this.number) && ( // check max bound for positive values\n        this.max == null || this.max <= 0 || this.number <= this.max);\n      }\n\n      return valid && _get(_getPrototypeOf(MaskedNumber.prototype), \"doValidate\", this).call(this, flags);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.value) {\n        var number = this.number;\n        var validnum = number; // check bounds\n\n        if (this.min != null) validnum = Math.max(validnum, this.min);\n        if (this.max != null) validnum = Math.min(validnum, this.max);\n        if (validnum !== number) this.unmaskedValue = String(validnum);\n        var formatted = this.value;\n        if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n        if (this.padFractionalZeros) formatted = this._padFractionalZeros(formatted);\n        this._value = formatted;\n      }\n\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"doCommit\", this).call(this);\n    }\n    /** */\n\n  }, {\n    key: \"_normalizeZeros\",\n    value: function _normalizeZeros(value) {\n      var parts = this._removeThousandsSeparators(value).split(this.radix); // remove leading zeros\n\n\n      parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, function (match, sign, zeros, num) {\n        return sign + num;\n      }); // add leading zero\n\n      if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n\n      if (parts.length > 1) {\n        parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n\n        if (!parts[1].length) parts.length = 1; // remove fractional\n      }\n\n      return this._insertThousandsSeparators(parts.join(this.radix));\n    }\n    /** */\n\n  }, {\n    key: \"_padFractionalZeros\",\n    value: function _padFractionalZeros(value) {\n      if (!value) return value;\n      var parts = value.split(this.radix);\n      if (parts.length < 2) parts.push('');\n      parts[1] = parts[1].padEnd(this.scale, '0');\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, '.');\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", unmaskedValue.replace('.', this.radix), this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return Number(this.unmaskedValue);\n    },\n    set: function set(n) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", String(n), this, true);\n    }\n    /** Parsed Number */\n\n  }, {\n    key: \"number\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(number) {\n      this.typedValue = number;\n    }\n    /**\r\n      Is negative allowed\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"allowNegative\",\n    get: function get() {\n      return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n    }\n  }]);\n\n  return MaskedNumber;\n}(Masked);\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: ['.'],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false\n};\nIMask.MaskedNumber = MaskedNumber;\n\nexport default MaskedNumber;\n"]},"metadata":{},"sourceType":"module"}